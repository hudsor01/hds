@import 'tailwindcss';
@import '@fontsource/roboto/300.css';
@import '@fontsource/roboto/400.css';
@import '@fontsource/roboto/500.css';
@import '@fontsource/roboto/700.css';

@theme {
  /* Typography System */
  --font-sans: 'Roboto', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

  /* Font Weights */
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-bold: 700;

  /* Line Heights */
  --leading-none: 1;
  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 2;

  /* Letter Spacing */
  --tracking-tighter: -0.05em;
  --tracking-tight: -0.025em;
  --tracking-normal: 0;
  --tracking-wide: 0.025em;
  --tracking-wider: 0.05em;
  --tracking-widest: 0.1em;

  /* Font Sizes */
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --text-3xl: 1.875rem;
  --text-4xl: 2.25rem;
  --text-5xl: 3rem;

  /* Color System */
  /* Primary - Pastel Blue */
  --color-primary-50: oklch(0.98 0.02 245);
  --color-primary-100: oklch(0.95 0.03 245);
  --color-primary-200: oklch(0.9 0.05 245);
  --color-primary-300: oklch(0.85 0.07 245);
  --color-primary-400: oklch(0.8 0.09 245);
  --color-primary-500: oklch(0.75 0.11 245);
  --color-primary-600: oklch(0.7 0.13 245);
  --color-primary-700: oklch(0.65 0.15 245);
  --color-primary-800: oklch(0.6 0.17 245);
  --color-primary-900: oklch(0.55 0.19 245);
  --color-primary-950: oklch(0.5 0.21 245);

  /* Secondary - Soft Lavender */
  --color-secondary-50: oklch(0.98 0.02 275);
  --color-secondary-100: oklch(0.95 0.03 275);
  --color-secondary-200: oklch(0.9 0.05 275);
  --color-secondary-300: oklch(0.85 0.07 275);
  --color-secondary-400: oklch(0.8 0.09 275);
  --color-secondary-500: oklch(0.75 0.11 275);
  --color-secondary-600: oklch(0.7 0.13 275);
  --color-secondary-700: oklch(0.65 0.15 275);
  --color-secondary-800: oklch(0.6 0.17 275);
  --color-secondary-900: oklch(0.55 0.19 275);
  --color-secondary-950: oklch(0.5 0.21 275);

  /* Accent - Soft Coral */
  --color-accent-50: oklch(0.98 0.02 25);
  --color-accent-100: oklch(0.95 0.03 25);
  --color-accent-200: oklch(0.9 0.05 25);
  --color-accent-300: oklch(0.85 0.07 25);
  --color-accent-400: oklch(0.8 0.09 25);
  --color-accent-500: oklch(0.75 0.12 25);
  --color-accent-600: oklch(0.7 0.14 25);
  --color-accent-700: oklch(0.65 0.16 25);
  --color-accent-800: oklch(0.6 0.18 25);
  --color-accent-900: oklch(0.55 0.2 25);
  --color-accent-950: oklch(0.5 0.22 25);

  /* Neutral - Cool Gray */
  --color-neutral-50: oklch(0.98 0.02 245);
  --color-neutral-100: oklch(0.93 0.02 245);
  --color-neutral-200: oklch(0.87 0.02 245);
  --color-neutral-300: oklch(0.78 0.02 245);
  --color-neutral-400: oklch(0.68 0.02 245);
  --color-neutral-500: oklch(0.58 0.02 245);
  --color-neutral-600: oklch(0.48 0.02 245);
  --color-neutral-700: oklch(0.38 0.02 245);
  --color-neutral-800: oklch(0.28 0.02 245);
  --color-neutral-900: oklch(0.18 0.02 245);
  --color-neutral-950: oklch(0.15 0.02 245);

  /* Success - Soft Sage */
  --color-success-50: oklch(0.98 0.02 145);
  --color-success-100: oklch(0.95 0.03 145);
  --color-success-200: oklch(0.9 0.05 145);
  --color-success-300: oklch(0.85 0.07 145);
  --color-success-400: oklch(0.8 0.09 145);
  --color-success-500: oklch(0.7 0.12 145);
  --color-success-600: oklch(0.65 0.14 145);
  --color-success-700: oklch(0.6 0.16 145);
  --color-success-800: oklch(0.55 0.18 145);
  --color-success-900: oklch(0.5 0.2 145);
  --color-success-950: oklch(0.45 0.22 145);

  /* Warning - Muted Amber */
  --color-warning-50: oklch(0.98 0.03 85);
  --color-warning-100: oklch(0.95 0.05 85);
  --color-warning-200: oklch(0.9 0.07 85);
  --color-warning-300: oklch(0.85 0.09 85);
  --color-warning-400: oklch(0.8 0.12 85);
  --color-warning-500: oklch(0.75 0.15 85);
  --color-warning-600: oklch(0.7 0.17 85);
  --color-warning-700: oklch(0.65 0.19 85);
  --color-warning-800: oklch(0.6 0.21 85);
  --color-warning-900: oklch(0.55 0.23 85);
  --color-warning-950: oklch(0.5 0.25 85);

  /* Danger - Soft Rose */
  --color-danger-50: oklch(0.98 0.03 15);
  --color-danger-100: oklch(0.95 0.05 15);
  --color-danger-200: oklch(0.9 0.08 15);
  --color-danger-300: oklch(0.85 0.11 15);
  --color-danger-400: oklch(0.8 0.14 15);
  --color-danger-500: oklch(0.75 0.18 15);
  --color-danger-600: oklch(0.7 0.2 15);
  --color-danger-700: oklch(0.65 0.22 15);
  --color-danger-800: oklch(0.6 0.24 15);
  --color-danger-900: oklch(0.55 0.26 15);
  --color-danger-950: oklch(0.5 0.28 15);

  /* System UI Colors */
  --color-background: var(--color-neutral-50);
  --color-foreground: var(--color-neutral-900);

  --color-muted: var(--color-neutral-100);
  --color-muted-foreground: var(--color-neutral-700);

  --color-card: var(--color-neutral-50);
  --color-card-foreground: var(--color-neutral-900);

  --color-popover: var(--color-neutral-50);
  --color-popover-foreground: var(--color-neutral-900);

  --color-border: var(--color-neutral-200);
  --color-input: var(--color-neutral-200);

  --color-primary-foreground: oklch(0.98 0.02 245);
  --color-secondary-foreground: oklch(0.98 0.02 275);
  --color-accent-foreground: oklch(0.98 0.02 25);
  --color-success-foreground: oklch(0.98 0.02 145);
  --color-warning-foreground: oklch(0.98 0.02 85);
  --color-danger-foreground: oklch(0.98 0.02 15);

  /* Animation */
  --animate-fast: 150ms;
  --animate-normal: 250ms;
  --animate-slow: 350ms;

  /* Easing Curves */
  --ease-default: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);

  /* Z-index Scale */
  --z-negative: -1;
  --z-elevate: 1;
  --z-sticky: 100;
  --z-header: 200;
  --z-dropdown: 300;
  --z-modal: 400;
  --z-toast: 500;
  --z-tooltip: 600;

  /* Spacing and Layout */
  --spacing-px: 1px;
  --spacing-0: 0;
  --spacing-0.5: 0.125rem;
  --spacing-1: 0.25rem;
  --spacing-1.5: 0.375rem;
  --spacing-2: 0.5rem;
  --spacing-2.5: 0.625rem;
  --spacing-3: 0.75rem;
  --spacing-3.5: 0.875rem;
  --spacing-4: 1rem;
  --spacing-5: 1.25rem;
  --spacing-6: 1.5rem;
  --spacing-7: 1.75rem;
  --spacing-8: 2rem;
  --spacing-9: 2.25rem;
  --spacing-10: 2.5rem;
  --spacing-11: 2.75rem;
  --spacing-12: 3rem;
  --spacing-14: 3.5rem;
  --spacing-16: 4rem;
  --spacing-20: 5rem;
  --spacing-24: 6rem;
  --spacing-28: 7rem;
  --spacing-32: 8rem;
  --spacing-36: 9rem;
  --spacing-40: 10rem;
  --spacing-44: 11rem;
  --spacing-48: 12rem;
  --spacing-52: 13rem;
  --spacing-56: 14rem;
  --spacing-60: 15rem;
  --spacing-64: 16rem;
  --spacing-72: 18rem;
  --spacing-80: 20rem;
  --spacing-96: 24rem;

  /* Container Settings */
  --container-padding: max(1rem, calc((100vw - 90rem) / 2));
  --container-width-sm: 640px;
  --container-width-md: 768px;
  --container-width-lg: 1024px;
  --container-width-xl: 1280px;
  --container-width-2xl: 1536px;

  /* Border Radius */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
}

/* Dark Mode Theme Override */
@custom-variant dark {
  :root {
    /* Base Colors */
    --color-background: var(--color-neutral-950);
    --color-foreground: var(--color-neutral-50);

    /* Muted Colors */
    --color-muted: var(--color-neutral-900);
    --color-muted-foreground: var(--color-neutral-400);

    /* Card Colors */
    --color-card: var(--color-neutral-900);
    --color-card-foreground: var(--color-neutral-50);

    /* Popover Colors */
    --color-popover: var(--color-neutral-900);
    --color-popover-foreground: var(--color-neutral-50);

    /* Border and Input */
    --color-border: var(--color-neutral-800);
    --color-input: var(--color-neutral-800);

    /* Semantic Colors Foreground */
    --color-primary-foreground: var(--color-primary-50);
    --color-secondary-foreground: var(--color-secondary-50);
    --color-accent-foreground: var(--color-accent-50);
    --color-success-foreground: var(--color-success-50);
    --color-warning-foreground: var(--color-warning-50);
    --color-danger-foreground: var(--color-danger-50);
  }
}

/* Base Layer */
@layer base {
  /* Modern CSS Reset */
  *,
  *::before,
  *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    border-color: var(--color-border);
    border-style: solid;
    border-width: 0;
  }

  /* Root Styles */
  :root {
    color-scheme: light dark;
  }
  html {
    height: 100%;
    scroll-behavior: smooth;
    text-size-adjust: 100%;
    tab-size: 4;
    -webkit-text-size-adjust: 100%;
  }

  body {
    min-height: 100%;
    font-family: var(--font-sans);
    font-size: var(--text-base);
    font-weight: var(--font-weight-normal);
    line-height: var(--leading-normal);
    background-color: var(--color-background);
    color: var(--color-foreground);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    isolation: isolate;
  }

  /* Default Element Styles */
  hr {
    height: 0;
    border-top-width: 1px;
    color: inherit;
  }

  abbr[title] {
    text-decoration: underline dotted;
  }

  b,
  strong {
    font-weight: var(--font-weight-bold);
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 0.875em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }
  sub {
    bottom: -0.25em;
  }
  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  [type='button'],
  [type='reset'],
  [type='submit'],
  button {
    -webkit-appearance: button;
    appearance: button;
    background-color: transparent;
    background-image: none;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: var(--color-muted-foreground);
  }

  [role='button'],
  button {
    cursor: pointer;
  }

  :disabled,
  [aria-disabled='true'] {
    cursor: not-allowed;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  /* Typography Defaults */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: var(--color-foreground);
    font-weight: var(--font-weight-bold);
    line-height: var(--leading-tight);
  }

  h1 {
    font-size: var(--text-4xl);
    letter-spacing: var(--tracking-tight);
    margin-bottom: var(--spacing-6);
  }

  h2 {
    font-size: var(--text-3xl);
    margin-bottom: var(--spacing-4);
  }

  h3 {
    font-size: var(--text-2xl);
    margin-bottom: var(--spacing-4);
  }

  h4 {
    font-size: var(--text-xl);
    margin-bottom: var(--spacing-3);
  }

  h5 {
    font-size: var(--text-lg);
    margin-bottom: var(--spacing-3);
  }

  h6 {
    font-size: var(--text-base);
    margin-bottom: var(--spacing-2);
  }

  p {
    margin-bottom: var(--spacing-4);
    line-height: var(--leading-normal);
  }

  a {
    color: var(--color-primary-600);
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
    transition: color var(--animate-fast) var(--ease-default);
  }

  a:hover {
    color: var(--color-primary-700);
  }

  ul,
  ol {
    margin: var(--spacing-4) 0;
    padding-left: var(--spacing-6);
  }

  li {
    margin: var(--spacing-1) 0;
  }

  blockquote {
    border-left: 2px solid var(--color-border);
    margin: var(--spacing-4) 0;
    padding: var(--spacing-2) var(--spacing-4);
    font-style: italic;
    color: var(--color-muted-foreground);
  }

  pre {
    background-color: var(--color-muted);
    border-radius: var(--radius-md);
    padding: var(--spacing-4);
    margin: var(--spacing-4) 0;
    overflow-x: auto;
  }

  code {
    background-color: var(--color-muted);
    border-radius: var(--radius-sm);
    padding: var(--spacing-0.5) var(--spacing-1);
    font-size: 0.875em;
  }

  pre code {
    background-color: transparent;
    padding: 0;
    border-radius: 0;
  }

  /* Selection Styles */
  ::selection {
    background-color: var(--color-primary-200);
    color: var(--color-primary-900);
  }

  /* Focus Styles */
  :focus-visible {
    outline: 2px solid var(--color-primary-500);
    outline-offset: 2px;
  }

  [data-focus-visible-added] {
    outline: 2px solid var(--color-primary-500);
    outline-offset: 2px;
  }

  /* Handle transitions */
  @media (prefers-reduced-motion: no-preference) {
    :root {
      transition:
        background-color var(--animate-normal) var(--ease-default),
        border-color var(--animate-normal) var(--ease-default),
        color var(--animate-normal) var(--ease-default);
    }

    * {
      transition-property:
        background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
      transition-duration: var(--animate-normal);
      transition-timing-function: var(--ease-default);
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Dialog centering - explicit after v4 changes */
  dialog {
    margin: auto;
  }
}

/* Component Layer */
@layer components {
  /* Card Variants */
  .card {
    background-color: var(--color-card);
    border-radius: var(--radius-lg);
    padding: var(--spacing-6);
    border: 1px solid var(--color-border);
  }

  .card-hover {
    transition:
      transform var(--animate-fast) var(--ease-default),
      box-shadow var(--animate-fast) var(--ease-default);
  }

  .card-hover:hover {
    transform: translateY(-2px);
    box-shadow:
      0 4px 6px -1px rgb(0 0 0 / 0.1),
      0 2px 4px -2px rgb(0 0 0 / 0.1);
  }

  .card-interactive {
    cursor: pointer;
    user-select: none;
  }

  /* Form Elements */
  .input {
    width: 100%;
    border: 1px solid var(--color-input);
    border-radius: var(--radius-md);
    padding: var(--spacing-2) var(--spacing-3);
    background-color: var(--color-background);
    color: var(--color-foreground);
    transition:
      border-color var(--animate-fast) var(--ease-default),
      box-shadow var(--animate-fast) var(--ease-default);
  }

  .input:hover {
    border-color: var(--color-primary-300);
  }

  .input:focus {
    outline: none;
    border-color: var(--color-primary-500);
    box-shadow: 0 0 0 1px var(--color-primary-500);
  }

  .input-error {
    border-color: var(--color-danger-500);
  }

  .input-error:hover,
  .input-error:focus {
    border-color: var(--color-danger-500);
    box-shadow: 0 0 0 1px var(--color-danger-500);
  }

  /* Button Base */
  .button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-md);
    padding: var(--spacing-2) var(--spacing-4);
    font-weight: var(--font-weight-medium);
    transition: all var(--animate-fast) var(--ease-default);
    cursor: pointer;
    user-select: none;
  }

  .button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* Button Variants */
  .button-primary {
    background-color: var(--color-primary-600);
    color: white;
  }

  .button-primary:hover:not(:disabled) {
    background-color: var(--color-primary-700);
  }

  .button-secondary {
    background-color: var(--color-secondary-600);
    color: white;
  }

  .button-secondary:hover:not(:disabled) {
    background-color: var(--color-secondary-700);
  }

  .button-outline {
    border: 1px solid var(--color-border);
    background-color: transparent;
    color: var(--color-foreground);
  }

  .button-outline:hover:not(:disabled) {
    background-color: var(--color-muted);
  }

  /* Badge */
  .badge {
    display: inline-flex;
    align-items: center;
    border-radius: var(--radius-full);
    padding: var(--spacing-0.5) var(--spacing-2);
    font-size: var(--text-sm);
    font-weight: var(--font-weight-medium);
    line-height: var(--leading-none);
    user-select: none;
  }

  .badge-primary {
    background-color: var(--color-primary-100);
    color: var(--color-primary-800);
  }

  .badge-secondary {
    background-color: var(--color-secondary-100);
    color: var(--color-secondary-800);
  }

  .badge-success {
    background-color: var(--color-success-100);
    color: var(--color-success-800);
  }

  .badge-danger {
    background-color: var(--color-danger-100);
    color: var(--color-danger-800);
  }

  .badge-warning {
    background-color: var(--color-warning-100);
    color: var(--color-warning-800);
  }
}

/* Material UI Integration */
@utility mui-root {
  font-family: var(--font-sans);
  background-color: var(--color-background);
  color: var(--color-foreground);
}

@utility mui-button {
  font-family: var(--font-sans);
  text-transform: none;
}

/* Custom Utilities */
@utility scrollbar-hide {
  scrollbar-width: none;
  -ms-overflow-style: none;
  &::-webkit-scrollbar {
    display: none;
  }
}

@utility scrollbar-thin {
  scrollbar-width: thin;
  &::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  &::-webkit-scrollbar-track {
    background: var(--color-muted);
  }
  &::-webkit-scrollbar-thumb {
    background: var(--color-muted-foreground);
    border-radius: 3px;
  }
}

/* Animation Utilities */
@utility animate-fade {
  animation: fade var(--animate-normal) var(--ease-default);
}

@utility animate-slide {
  animation: slide var(--animate-normal) var(--ease-default);
}

@utility animate-scale {
  animation: scale var(--animate-normal) var(--ease-default);
}

@utility animate-spin {
  animation: spin var(--animate-normal) linear infinite;
}

@utility animate-ping {
  animation: ping var(--animate-normal) cubic-bezier(0, 0, 0.2, 1) infinite;
}

@utility animate-bounce {
  animation: bounce var(--animate-slow) infinite;
}

/* Animation Keyframes */
@keyframes fade {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes scale {
  from {
    transform: scale(0.95);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes ping {
  75%,
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

@keyframes bounce {
  0%,
  100% {
    transform: translateY(-25%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: translateY(0);
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}

/* Hover Support */
@custom-variant hover {
  @media (hover: hover) {
    &:hover {
      @slot;
    }
  }
}
